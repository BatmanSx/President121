{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import axios from'axios';function Register(){var _useState=useState({president_id:'',namefirst:'',namelast:'',email:'',password:'',country:'',atom:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChangeInput=function onChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var registerSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post('/user/register',_objectSpread({},user));case 4:localStorage.setItem('firstLogin',true);window.location.href=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.msg);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function registerSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:registerSubmit},/*#__PURE__*/React.createElement(\"h2\",null,\"Rejestracja\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"president_id\",required:true,placeholder:\"ID\",value:user.president_id,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"namefirst\",required:true,placeholder:\"Imi\\u0119\",value:user.namefirst,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"namelast\",required:true,placeholder:\"Nazwisko\",value:user.namelast,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Email\",value:user.email,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",required:true,autoComplete:\"on\",placeholder:\"Has\\u0142o\",value:user.password,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"country\",name:\"country\",required:true,placeholder:\"Kraj\",value:user.country,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"input\",{type:\"atom\",name:\"atom\",required:true,placeholder:\"Przycisk Atomowy\",value:user.atom,onChange:onChangeInput}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Zarejestruj\"),/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Zaloguj\"))));}export default Register;","map":{"version":3,"sources":["C:/Users/konrad.ziebinski/Desktop/President/zarzadzanie/src/components/mainpages/auth/Register.js"],"names":["React","useState","Link","axios","Register","president_id","namefirst","namelast","email","password","country","atom","user","setUser","onChangeInput","e","target","name","value","registerSubmit","preventDefault","post","localStorage","setItem","window","location","href","alert","response","data","msg"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Register() {\n    const [user, setUser] = useState({\n        president_id:'', namefirst:'',namelast:'', email:'', password: '',country:'', atom:''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const registerSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Rejestracja</h2>\n                \n                <input type=\"text\" name=\"president_id\" required\n                placeholder=\"ID\" value={user.president_id} onChange={onChangeInput} />\n                \n                <input type=\"text\" name=\"namefirst\" required\n                placeholder=\"Imię\" value={user.namefirst} onChange={onChangeInput} />\n\n                 <input type=\"text\" name=\"namelast\" required\n                placeholder=\"Nazwisko\" value={user.namelast} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Hasło\" value={user.password} onChange={onChangeInput} />\n\n                <input type=\"country\" name=\"country\" required\n                placeholder=\"Kraj\" value={user.country} onChange={onChangeInput} />     \n\n                <input type=\"atom\" name=\"atom\" required\n                placeholder=\"Przycisk Atomowy\" value={user.atom} onChange={onChangeInput} />   \n\n                <div className=\"row\">\n                    <button type=\"submit\">Zarejestruj</button>\n                    <Link to=\"/login\">Zaloguj</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}