{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\konrad.ziebinski\\\\Desktop\\\\President\\\\zarzadzanie\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import axios from'axios';function TanksAPI(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tanks=_useState2[0],setTanks=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),callback=_useState4[0],setCallback=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),search=_useState10[0],setSearch=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),result=_useState14[0],setResult=_useState14[1];useEffect(function(){var getTanks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/tanks?limit=\".concat(page*9,\"&\").concat(category,\"&\").concat(sort,\"&title[regex]=\").concat(search));case 2:res=_context.sent;setTanks(res.data.tanks);setResult(res.data.result);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getTanks(){return _ref.apply(this,arguments);};}();getTanks();},[callback,category,sort,search,page]);return{tanks:[tanks,setTanks],callback:[callback,setCallback],category:[category,setCategory],sort:[sort,setSort],search:[search,setSearch],page:[page,setPage],result:[result,setResult]};}export default TanksAPI;","map":{"version":3,"sources":["C:/Users/konrad.ziebinski/Desktop/President/zarzadzanie/src/api/TanksAPI.js"],"names":["useState","useEffect","axios","TanksAPI","tanks","setTanks","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","getTanks","get","res","data"],"mappings":"qiBAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,QAASC,CAAAA,QAAT,EAAoB,eACUH,QAAQ,CAAC,EAAD,CADlB,wCACTI,KADS,eACFC,QADE,8BAEgBL,QAAQ,CAAC,KAAD,CAFxB,yCAETM,QAFS,eAECC,WAFD,8BAGgBP,QAAQ,CAAC,EAAD,CAHxB,yCAGTQ,QAHS,eAGCC,WAHD,8BAIQT,QAAQ,CAAC,EAAD,CAJhB,yCAITU,IAJS,eAIHC,OAJG,8BAKYX,QAAQ,CAAC,EAAD,CALpB,0CAKTY,MALS,gBAKDC,SALC,gCAMQb,QAAQ,CAAC,CAAD,CANhB,2CAMTc,IANS,gBAMHC,OANG,gCAOYf,QAAQ,CAAC,CAAD,CAPpB,2CAOTgB,MAPS,gBAODC,SAPC,gBAShBhB,SAAS,CAAC,UAAK,CACX,GAAMiB,CAAAA,QAAQ,0FAAG,iKACKhB,CAAAA,KAAK,CAACiB,GAAN,4BAA8BL,IAAI,CAAC,CAAnC,aAAwCN,QAAxC,aAAoDE,IAApD,0BAAyEE,MAAzE,EADL,QACPQ,GADO,eAEbf,QAAQ,CAACe,GAAG,CAACC,IAAJ,CAASjB,KAAV,CAAR,CACAa,SAAS,CAACG,GAAG,CAACC,IAAJ,CAASL,MAAV,CAAT,CAHa,sDAAH,kBAARE,CAAAA,QAAQ,0CAAd,CAKAA,QAAQ,GACX,CAPQ,CAOP,CAACZ,QAAD,CAAWE,QAAX,CAAqBE,IAArB,CAA2BE,MAA3B,CAAmCE,IAAnC,CAPO,CAAT,CASA,MAAO,CACHV,KAAK,CAAE,CAACA,KAAD,CAAQC,QAAR,CADJ,CAEHC,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CAFP,CAGHC,QAAQ,CAAE,CAACA,QAAD,CAAWC,WAAX,CAHP,CAIHC,IAAI,CAAE,CAACA,IAAD,CAAOC,OAAP,CAJH,CAKHC,MAAM,CAAE,CAACA,MAAD,CAASC,SAAT,CALL,CAMHC,IAAI,CAAE,CAACA,IAAD,CAAOC,OAAP,CANH,CAOHC,MAAM,CAAE,CAACA,MAAD,CAASC,SAAT,CAPL,CAAP,CASH,CAED,cAAed,CAAAA,QAAf","sourcesContent":["import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\n\nfunction TanksAPI() {\n    const [tanks, setTanks] = useState([])\n    const [callback, setCallback] = useState(false)\n    const [category, setCategory] = useState('')\n    const [sort, setSort] = useState('')\n    const [search, setSearch] = useState('')\n    const [page, setPage] = useState(1)\n    const [result, setResult] = useState(0)\n\n    useEffect(() =>{\n        const getTanks = async () => {\n            const res = await axios.get(`/api/tanks?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\n            setTanks(res.data.tanks)\n            setResult(res.data.result)\n        }\n        getTanks()\n    },[callback, category, sort, search, page])\n    \n    return {\n        tanks: [tanks, setTanks],\n        callback: [callback, setCallback],\n        category: [category, setCategory],\n        sort: [sort, setSort],\n        search: [search, setSearch],\n        page: [page, setPage],\n        result: [result, setResult]\n    }\n}\n\nexport default TanksAPI\n"]},"metadata":{},"sourceType":"module"}